journalctl -b --since -20m
июл 16 06:17:01 eltex-practice2-pg1-v21 CRON[48738]: pam_unix(cron:session): se>
июл 16 06:17:01 eltex-practice2-pg1-v21 CRON[48739]: (root) CMD (cd / && run-pa>
июл 16 06:17:01 eltex-practice2-pg1-v21 CRON[48738]: pam_unix(cron:session): se>
июл 16 06:18:36 eltex-practice2-pg1-v21 systemd[1]: Starting man-db.service - D>
июл 16 06:18:38 eltex-practice2-pg1-v21 systemd[1]: man-db.service: Deactivated>
июл 16 06:18:38 eltex-practice2-pg1-v21 systemd[1]: Finished man-db.service - D>
июл 16 06:20:01 eltex-practice2-pg1-v21 systemd[1]: Starting sysstat-collect.se>
июл 16 06:20:01 eltex-practice2-pg1-v21 systemd[1]: sysstat-collect.service: De>
июл 16 06:20:01 eltex-practice2-pg1-v21 systemd[1]: Finished sysstat-collect.se>
июл 16 06:23:40 eltex-practice2-pg1-v21 sshd[48754]: Accepted publickey for roo>
июл 16 06:23:40 eltex-practice2-pg1-v21 sshd[48754]: pam_unix(sshd:session): se>
июл 16 06:23:40 eltex-practice2-pg1-v21 systemd-logind[699]: New session 914 of>
июл 16 06:23:40 eltex-practice2-pg1-v21 systemd[1]: Created slice user-0.slice >
июл 16 06:23:40 eltex-practice2-pg1-v21 systemd[1]: Starting user-runtime-dir@0>
июл 16 06:23:40 eltex-practice2-pg1-v21 systemd[1]: Finished user-runtime-dir@0>
июл 16 06:23:40 eltex-practice2-pg1-v21 systemd[1]: Starting user@0.service - U>
июл 16 06:23:40 eltex-practice2-pg1-v21 (systemd)[48759]: pam_unix(systemd-user>
июл 16 06:23:41 eltex-practice2-pg1-v21 systemd[48759]: Queued start job for de>
июл 16 06:23:41 eltex-practice2-pg1-v21 systemd[48759]: Created slice app.slice>
июл 16 06:23:41 eltex-practice2-pg1-v21 systemd[48759]: Started launchpadlib-ca>
июл 16 06:23:41 eltex-practice2-pg1-v21 systemd[48759]: Reached target paths.ta>
июл 16 06:23:41 eltex-practice2-pg1-v21 systemd[48759]: Reached target timers.t>



awk -F ": " '{n=split($1, arr, " "); a=arr[n]; print a,$2,$3}' /var/log/auth.log | sed 's/\[[0-9]*\]//g' | sort -k1 | head
chage changed password expiry for user1
chage changed password expiry for user2
chage changed password expiry for user3
CRON pam_unix(cron:session) session closed for user root
CRON pam_unix(cron:session) session closed for user root
CRON pam_unix(cron:session) session closed for user root
CRON pam_unix(cron:session) session closed for user root
CRON pam_unix(cron:session) session closed for user root
CRON pam_unix(cron:session) session closed for user root


awk -F ": " '{n=split($1, arr, " "); a=arr[n]; print a,$2,$3}' /var/log/auth.log | sed 's/\[[0-9]*\]//g' | sort -k1 | uniq -c | sort -nr | head
    573 CRON pam_unix(cron:session) session opened for user root(uid=0) by root(uid=0)
    573 CRON pam_unix(cron:session) session closed for user root
     23 sudo pam_unix(sudo:session) session closed for user root
     22 sudo pam_unix(sudo:session) session opened for user root(uid=0) by root(uid=0)
     16 sshd pam_unix(sshd:session) session opened for user root(uid=0) by root(uid=0)
     15 sshd pam_unix(sshd:session) session closed for user root
      7 (systemd) pam_unix(systemd-user:session) session opened for user root(uid=0) by root(uid=0)
      5 su (to user2) root on pts/0
      5 su (to user1) root on pts/0
      5 su pam_unix(su-l:session) session opened for user user2(uid=1002) by root(uid=0)


 dmesg | grep kernel
[    0.117147] Booting paravirtualized kernel on KVM
[    0.118610] Unknown kernel command line parameters "BOOT_IMAGE=/vmlinuz-6.8.0-55-generic", will be passed to user space.
[    0.199019] Memory: 3933488K/4193760K available (22528K kernel code, 4443K rwdata, 14344K rodata, 4988K init, 4716K bss, 260012K reserved, 0K cma-reserved)
[    0.984881] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    1.168608] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    1.202411] Freeing unused kernel image (initmem) memory: 4988K
[    1.203297] Write protecting the kernel read-only data: 38912k
[    1.204820] Freeing unused kernel image (rodata/data gap) memory: 2040K
[    6.874502] systemd[1]: Listening on systemd-udevd-kernel.socket - udev Kernel Socket.
[    6.935624] systemd[1]: Mounting sys-kernel-debug.mount - Kernel Debug File System...
[    6.940167] systemd[1]: Mounting sys-kernel-tracing.mount - Kernel Trace File System...


wc -l /var/log/kern.log
45 /var/log/kern.log

awk '/^Commandline:/ {printf "%s\n", $0; next} /^Start-Date:/ {printf "%s\n", $0; next} /^End-Date:/ {printf "%s\n", $0; print ""}' /var/log/apt/history.log | head
Start-Date: 2025-02-16  20:51:22
Commandline: apt-get install --reinstall apt
End-Date: 2025-02-16  20:51:24

Start-Date: 2025-02-16  20:51:26
Commandline: apt-get install --reinstall base-files
End-Date: 2025-02-16  20:51:28

Start-Date: 2025-02-16  20:51:31
Commandline: apt-get install --reinstall base-passwd

